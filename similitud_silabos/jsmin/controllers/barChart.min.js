wkhomeControllers.controller("barChart",["$scope","globalData","sparqlQuery","clustersQuery","searchData","$route","$window",function(a,o,t,e,n,u){var c=[],r=o.PREFIX+" CONSTRUCT  {       ?prov uc:total ?totalp.     ?prov uc:name ?sname. }  WHERE { {     SELECT DISTINCT (SAMPLE(?provenance)  as ?prov) (SAMPLE(?sourcename)  as ?sname)  (count(DISTINCT ?pub) as ?totalp)         WHERE {             GRAPH <"+o.centralGraph+"> {                 ?s a foaf:Person.                 ?s foaf:name ?name.                 ?s foaf:publications ?pub.                 ?pub dct:title ?title.                 ?s dct:provenance ?provenance.                      {                      SELECT *                      WHERE                      {                          graph <http://ucuenca.edu.ec/wkhuska/endpoints>                          {            \t\t\t?provenance uc:name ?sourcename                          }                      }                  }              }         }group by ?provenance  }  }";t.query({query:r},function(e){jsonld.compact(e,o.CONTEXT,function(e,n){var u=n["@graph"];u&&_.map(u,function(e){var n=e["@id"],u=e["uc:name"],r=e["uc:total"]["@value"],p=o.PREFIX+" CONSTRUCT  {  <"+n+"> uc:total ?totalAuthors. }  WHERE { {     SELECT DISTINCT (count(DISTINCT ?s) as ?totalAuthors)     WHERE {         GRAPH <"+o.centralGraph+"> {             ?s foaf:publications ?pub.             ?s dct:provenance <"+n+">.        }     }   }  } ";t.query({query:p},function(t){jsonld.compact(t,o.CONTEXT,function(o,t){var e=t["@graph"][0],n=e["uc:total"]["@value"];e["@id"];c.push({Source:u,freq:{Autores:n,Publicaciones:r,Salud:0}}),a.$apply(function(){a.data=c})})})})})})}]);