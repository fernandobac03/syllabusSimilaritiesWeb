wkhomeControllers.controller("clustersCloud",["$routeParams","$scope","$window","sparqlQuery","searchData","globalData",function(a,o,e,t,n,r){o.todos=[],o.ctrlFn=function(a){o.todos=[];var e={};_.map(a,function(a){e.id=a["@id"],e.name=a["foaf:name"],e.keywords=a["bibo:Quote"],e.name&&e.keywords&&o.todos.push({id:e.id,name:e.name,keywords:e.keywords,uri:e.id})}),$("html,body").animate({scrollTop:$("#scrollToHere").offset().top},"slow"),o.loadData()},o.loadData=function(){o.$apply(function(){o.filteredTodos=[],o.currentPage=1,o.numPerPage=10,o.maxSize=5,o.$watch("currentPage + numPerPage",function(){var a=(o.currentPage-1)*o.numPerPage,e=a+o.numPerPage;o.filteredTodos=o.todos.slice(a,e)})})},o.$watch("searchData.genericData",function(a,e,t){o.data={schema:{context:r.CONTEXT,fields:["rdfs:label","uc:total"]},data:n.genericData}}),o.searchAuthor=function(c){var s=r.PREFIX+" CONSTRUCT {   <"+c+"> foaf:name ?name; a foaf:Person   }    WHERE  {Graph <"+r.centralGraph+">{     <"+c+"> a foaf:Person.     <"+c+"> foaf:name ?name } }";t.querySrv({query:s},function(t){jsonld.compact(t,r.CONTEXT,function(t,r){o.$apply(function(){n.authorSearch=r,e.location.hash="/"+a.lang+"/w/search?"+c})})})},o.exportReport=function(a){o.clusterId=a,o.showRepButtons=!0}}]);