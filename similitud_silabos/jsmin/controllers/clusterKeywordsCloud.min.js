wkhomeControllers.controller("clusterKeywordsCloud",["$routeParams","$scope","$window","sparqlQuery","searchData","globalData",function(a,o,t,e,l,r){if(l.genericData=null,$("html,body").animate({scrollTop:$("#scrollToTop").offset().top},"1"),o.ifClick=function(o){l.genericData=o,t.location.hash="/"+a.lang+"/w/clusters?datacloud"},o.todos=[],o.loadData=function(){o.$apply(function(){o.filteredTodos=[],o.currentPage=1,o.numPerPage=10,o.maxSize=5,o.$watch("currentPage + numPerPage",function(){var a=(o.currentPage-1)*o.numPerPage,t=a+o.numPerPage;o.filteredTodos=o.todos.slice(a,t)})})},l.allkeywordsCloud)o.data=l.allkeywordsCloud;else{waitingDialog.show();var n=r.PREFIX+" CONSTRUCT { ?keyword rdfs:label ?k; uc:total ?totalPub } FROM <"+r.centralGraph+"> WHERE {  SELECT ?keyword ?k (COUNT(DISTINCT(?subject)) AS ?totalPub)  WHERE {  ?person foaf:publications ?subject.  ?subject bibo:Quote ?k .  BIND(IRI(?k) AS ?keyword) . }  GROUP BY ?keyword ?k  HAVING(?totalPub > 2 && ?totalPub < 180)  ORDER BY DESC(?totalPub)  LIMIT 145 }";e.querySrv({query:n},function(a){jsonld.compact(a,r.CONTEXT,function(a,t){o.$apply(function(){o.data={schema:{context:r.CONTEXT,fields:["rdfs:label","uc:total"]},data:t},l.allkeywordsCloud={schema:{context:r.CONTEXT,fields:["rdfs:label","uc:total"]},data:t},waitingDialog.hide()})})})}}]);