wkhomeControllers.controller("countAuthors",["$translate","$routeParams","$scope","$window","globalData","sparqlQuery","searchData",function(a,n,e,t,o,c,r){a.use(n.lang),e.ifClick=function(a){r.genericData=a,t.location.hash="/"+n.lang+"/w/cloud?datacloud"};var l=o.PREFIX+"CONSTRUCT {          ?provenance a uc:Endpoint .          ?provenance uc:name ?name .          ?provenance uc:total ?total  } WHERE {  graph <"+o.centralGraph+">        {          SELECT ?provenance ?name (COUNT(DISTINCT(?s)) AS ?total)              WHERE              {                  ?s a foaf:Person.                  ?s foaf:publications ?pub .                  ?s dct:provenance ?provenance .                  ?pub dct:title ?title .                  {                      SELECT ?name                      WHERE {                          GRAPH <"+o.endpointsGraph+"> {                              ?provenance uc:name ?name .                          }                     }                 }             }         GROUP BY ?provenance ?name      }  } ";c.querySrv({query:l},function(a){jsonld.compact(a,o.CONTEXT,function(a,n){var t=n["@graph"],o=[];t&&(t.forEach(function(a){o.push({label:a["uc:name"],value:a["uc:total"]["@value"]})}),e.$apply(function(){e.data={entityName:"Authors",data:o}}))})}),e.$watch("globalData.language",function(a,n,t){e.translate=o.translateData})}]);