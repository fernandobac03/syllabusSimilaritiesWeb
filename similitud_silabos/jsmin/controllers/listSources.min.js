wkhomeControllers.controller("listSources",["sparqlQuery","$scope","globalData",function(c,e,u){e.datasources=[];var a=u.PREFIX+" Construct { ?subject uc:name ?name. ?subject uc:fullName ?fullName. ?subject uc:city ?city. ?subject uc:province ?province. } WHERE { graph <"+u.endpointsGraph+"> { ?subject uc:name ?name. ?subject uc:fullName ?fullName. ?subject uc:city ?city. ?subject uc:province ?province. }} ";c.querySrv({query:a},function(c){jsonld.compact(c,u.CONTEXT,function(c,u){_.map(u["@graph"],function(c){var u={};u.id=c["@id"],u.name=c["uc:name"],u.fullName=c["uc:fullName"],u.city=c["uc:city"],u.url="http://www."+c["uc:name"].toLowerCase()+".edu.ec/",e.datasources.push({name:u.name,fullName:u.fullName,url:u.url,city:u.city})}),e.$apply(function(){e.sources=e.datasources}),waitingDialog.hide()})})}]);